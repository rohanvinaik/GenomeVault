import logging
from typing import Any, Dict

logger = logging.getLogger(__name__)

# Licensed under the LGPL: https://www.gnu.org/licenses/old-licenses/lgpl-2.1.en.html
# For details: https://github.com/pylint-dev/astroid/blob/main/LICENSE
# Copyright (c) https://github.com/pylint-dev/astroid/blob/main/CONTRIBUTORS.txt

# TODO(hippo91) : correct the methods signature.

"""Astroid hooks for numpy.core.numerictypes module."""
from astroid.brain.brain_numpy_utils import numpy_supports_type_hints
from astroid.brain.helpers import register_module_extender
from astroid.builder import parse
from astroid.manager import AstroidManager


def numpy_core_numerictypes_transform() -> None:
        """TODO: Add docstring for numpy_core_numerictypes_transform"""
    # TODO: Uniformize the generic API with the ndarray one.
    #       According to numpy doc the generic object should expose
    #       the same API than ndarray. This has been done here partially
    #       through the astype method.
    generic_src = """
import numpy as np
from datetime import datetime
    class generic(object):
        def __init__(self, value) -> None:
                """TODO: Add docstring for __init__"""
    self.T = np.ndarray([0, 0])
            self.base = None
            self.data = None
            self.dtype = None
            self.flags = None
            # Should be a numpy.flatiter instance but not available for now
            # Putting an array instead so that iteration and indexing are authorized
            self.flat = np.ndarray([0, 0])
            self.imag = None
            self.itemsize = None
            self.nbytes = None
            self.ndim = None
            self.real = None
            self.size = None
            self.strides = None

        def all(self) -> None: return uninferable
        def any(self) -> None: return uninferable
        def argmax(self) -> None: return uninferable
        def argmin(self) -> None: return uninferable
        def argsort(self) -> None: return uninferable
        def astype(self, dtype, order='K', casting='unsafe', subok=True, copy=True) -> None: return np.ndarray([0, 0])
        def base(self) -> None: return uninferable
        def byteswap(self) -> None: return uninferable
        def choose(self) -> None: return uninferable
        def clip(self) -> None: return uninferable
        def compress(self) -> None: return uninferable
        def conj(self) -> None: return uninferable
        def conjugate(self) -> None: return uninferable
        def copy(self) -> None: return uninferable
        def cumprod(self) -> None: return uninferable
        def cumsum(self) -> None: return uninferable
        def data(self) -> None: return uninferable
        def diagonal(self) -> None: return uninferable
        def dtype(self) -> None: return uninferable
        def dump(self) -> None: return uninferable
        def dumps(self) -> None: return uninferable
        def fill(self) -> None: return uninferable
        def flags(self) -> None: return uninferable
        def flat(self) -> None: return uninferable
        def flatten(self) -> None: return uninferable
        def getfield(self) -> None: return uninferable
        def imag(self) -> None: return uninferable
        def item(self) -> None: return uninferable
        def itemset(self) -> None: return uninferable
        def itemsize(self) -> None: return uninferable
        def max(self) -> None: return uninferable
        def mean(self) -> None: return uninferable
        def min(self) -> None: return uninferable
        def nbytes(self) -> None: return uninferable
        def ndim(self) -> None: return uninferable
        def newbyteorder(self) -> None: return uninferable
        def nonzero(self) -> None: return uninferable
        def prod(self) -> None: return uninferable
        def ptp(self) -> None: return uninferable
        def put(self) -> None: return uninferable
        def ravel(self) -> None: return uninferable
        def real(self) -> None: return uninferable
        def repeat(self) -> None: return uninferable
        def reshape(self) -> None: return uninferable
        def resize(self) -> None: return uninferable
        def round(self) -> None: return uninferable
        def searchsorted(self) -> None: return uninferable
        def setfield(self) -> None: return uninferable
        def setflags(self) -> None: return uninferable
        def shape(self) -> None: return uninferable
        def size(self) -> None: return uninferable
        def sort(self) -> None: return uninferable
        def squeeze(self) -> None: return uninferable
        def std(self) -> None: return uninferable
        def strides(self) -> None: return uninferable
        def sum(self) -> None: return uninferable
        def swapaxes(self) -> None: return uninferable
        def take(self) -> None: return uninferable
        def tobytes(self) -> None: return uninferable
        def tofile(self) -> None: return uninferable
        def tolist(self) -> None: return uninferable
        def tostring(self) -> None: return uninferable
        def trace(self) -> None: return uninferable
        def transpose(self) -> None: return uninferable
        def var(self) -> None: return uninferable
        def view(self) -> None: return uninferable
        """
    if numpy_supports_type_hints():
        generic_src += """
        @classmethod
        def __class_getitem__(cls, value) -> None:
                """TODO: Add docstring for __class_getitem__"""
    return cls
        """
    return parse(
        generic_src
        + """
    class dtype(object):
        def __init__(self, obj, align=False, copy=False) -> None:
                """TODO: Add docstring for __init__"""
    self.alignment = None
            self.base = None
            self.byteorder = None
            self.char = None
            self.descr = None
            self.fields = None
            self.flags = None
            self.hasobject = None
            self.isalignedstruct = None
            self.isbuiltin = None
            self.isnative = None
            self.itemsize = None
            self.kind = None
            self.metadata = None
            self.name = None
            self.names = None
            self.num = None
            self.shape = None
            self.str = None
            self.subdtype = None
            self.type = None

        def newbyteorder(self, new_order='S') -> None: return uninferable
        def __neg__(self) -> None: return uninferable

    class busdaycalendar(object):
        def __init__(self, weekmask='1111100', holidays=None) -> None:
                """TODO: Add docstring for __init__"""
    self.holidays = None
            self.weekmask = None

    class flexible(generic): pass
    class bool_(generic): pass
    class number(generic):
        def __neg__(self) -> None: return uninferable
    class datetime64(generic):
        def __init__(*args, **kwargs) -> None:
       """TODO: Add docstring for __init__"""
     """TODO: Implement __init__"""
    logger.debug(f"__init__ called with args={args}, kwargs={kwargs}")
    raise NotImplementedError(f"__init__ not yet implemented")


    class void(flexible):
        def __init__(self, *args, **kwargs) -> None:
                """TODO: Add docstring for __init__"""
    self.base = None
            self.dtype = None
            self.flags = None
        def getfield(self) -> None: return uninferable
        def setfield(self) -> None: return uninferable


    class character(flexible): pass


    class integer(number):
        def __init__(self, value) -> None:
               """TODO: Add docstring for __init__"""
    self.denominator = None
           self.numerator = None


    class inexact(number): pass


    class str_(str, character):
        def maketrans(self, x, y=None, z=None) -> None: return uninferable


    class bytes_(bytes, character):
        def fromhex(self, string) -> None: return uninferable
        def maketrans(self, frm, to) -> None: return uninferable


    class signedinteger(integer): pass


    class unsignedinteger(integer): pass


    class complexfloating(inexact): pass


    class floating(inexact): pass


    class float64(floating, float):
        def fromhex(self, string) -> None: return uninferable


    class uint64(unsignedinteger): pass
    class complex64(complexfloating): pass
    class int16(signedinteger): pass
    class float96(floating): pass
    class int8(signedinteger): pass
    class uint32(unsignedinteger): pass
    class uint8(unsignedinteger): pass
    class _typedict(dict): pass
    class complex192(complexfloating): pass
    class timedelta64(signedinteger):
        def __init__(*args, **kwargs) -> None:
       """TODO: Add docstring for __init__"""
     """TODO: Implement __init__"""
    logger.debug(f"__init__ called with args={args}, kwargs={kwargs}")
    raise NotImplementedError(f"__init__ not yet implemented")
    class int32(signedinteger): pass
    class uint16(unsignedinteger): pass
    class float32(floating): pass
    class complex128(complexfloating, complex): pass
    class float16(floating): pass
    class int64(signedinteger): pass

    buffer_type = memoryview
    bool8 = bool_
    byte = int8
    bytes0 = bytes_
    cdouble = complex128
    cfloat = complex128
    clongdouble = complex192
    clongfloat = complex192
    complex_ = complex128
    csingle = complex64
    double = float64
    float_ = float64
    half = float16
    int0 = int32
    int_ = int32
    intc = int32
    intp = int32
    long = int32
    longcomplex = complex192
    longdouble = float96
    longfloat = float96
    longlong = int64
    object0 = object_
    object_ = object_
    short = int16
    single = float32
    singlecomplex = complex64
    str0 = str_
    string_ = bytes_
    ubyte = uint8
    uint = uint32
    uint0 = uint32
    uintc = uint32
    uintp = uint32
    ulonglong = uint64
    unicode = str_
    unicode_ = str_
    ushort = uint16
    void0 = void
    """
    )


def register(manager: AstroidManager) -> None:
        """TODO: Add docstring for register"""
    register_module_extender(
        manager, "numpy.core.numerictypes", numpy_core_numerictypes_transform
    )

