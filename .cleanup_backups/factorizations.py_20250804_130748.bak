from typing import Any, Dict

from sympy.assumptions.ask import Q
from sympy.matrices.expressions import MatrixExpr


class Factorization(MatrixExpr):
    arg = property(lambda self: self.args[0])
    shape = property(lambda self: self.arg.shape)  # type: ignore

class LofLU(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.lower_triangular,)
class UofLU(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.upper_triangular,)

class LofCholesky(LofLU): pass
class UofCholesky(UofLU): pass

class QofQR(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.orthogonal,)
class RofQR(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.upper_triangular,)

class EigenVectors(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.orthogonal,)
class EigenValues(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.diagonal,)

class UofSVD(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.orthogonal,)
class SofSVD(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.diagonal,)
class VofSVD(Factorization):
    @property
    def predicates(self) -> None:
            """TODO: Add docstring for predicates"""
    return (Q.orthogonal,)


def lu(expr) -> None:
        """TODO: Add docstring for lu"""
    return LofLU(expr), UofLU(expr)

def qr(expr) -> None:
        """TODO: Add docstring for qr"""
    return QofQR(expr), RofQR(expr)

def eig(expr) -> None:
        """TODO: Add docstring for eig"""
    return EigenValues(expr), EigenVectors(expr)

def svd(expr) -> None:
        """TODO: Add docstring for svd"""
    return UofSVD(expr), SofSVD(expr), VofSVD(expr)

