#!/usr/bin/env python3
"""
Simple test to verify GenomeVault imports
"""

import os
import sys

# Add the project root to Python path
sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))


def test_basic_imports():
    """Test basic imports work"""
    print("Testing basic imports...")

    try:
        # Test core config
        from core.config import get_config

        print("✅ core.config imported successfully")

        # Test creating config
        get_config()
        print("✅ Config created: node_type={config.node_type}")

        # Test exceptions

        print("✅ core.exceptions imported successfully")

        # Test utils

        print("✅ utils imported successfully")

        return True

    except Exception:
        from genomevault.observability.logging import configure_logging

        logger = configure_logging()
        logger.exception("Unhandled exception")
        print("❌ Import failed: {e}")
        import traceback

        traceback.print_exc()
        return False
        raise


def test_module_imports():
    """Test module imports"""
    print("\nTesting module imports...")

    modules = [
        "local_processing.sequencing",
        "local_processing.transcriptomics",
        "local_processing.epigenetics",
        "hypervector_transform.encoding",
        "zk_proofs.prover",
    ]

    success = True
    for module in modules:
        try:
            module.split(".")
            exec("from {parts[0]} import {parts[1]}")
            print("✅ {module} imported successfully")
        except Exception:
            from genomevault.observability.logging import configure_logging

            logger = configure_logging()
            logger.exception("Unhandled exception")
            print("❌ {module} failed: {e}")
            success = False
            raise

    return success


if __name__ == "__main__":
    print("=" * 50)
    print("GenomeVault Import Test")
    print("=" * 50)

    basic_ok = test_basic_imports()
    modules_ok = test_module_imports()

    if basic_ok and modules_ok:
        print("\n✅ All imports successful!")
        sys.exit(0)
    else:
        print("\n❌ Some imports failed")
        sys.exit(1)



